<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Handler Types - Contextualizer Documentation</title>
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="docs-container">
        <!-- Include the same sidebar as main page -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <h1><i class="fas fa-cogs"></i> Contextualizer</h1>
                <p class="version">v1.0.0</p>
            </div>
            
            <div class="sidebar-content">
                <div class="nav-section">
                    <h3>Getting Started</h3>
                    <ul>
                        <li><a href="index.html#overview" class="nav-link">Overview</a></li>
                        <li><a href="index.html#installation" class="nav-link">Installation</a></li>
                        <li><a href="index.html#quick-start" class="nav-link">Quick Start</a></li>
                        <li><a href="index.html#configuration" class="nav-link">Configuration</a></li>
                    </ul>
                </div>
                
                <div class="nav-section">
                    <h3>Handler Types</h3>
                    <ul>
                        <li><a href="#regex-handlers" class="nav-link active">Regex Handlers</a></li>
                        <li><a href="#api-handlers" class="nav-link">API Handlers</a></li>
                        <li><a href="#database-handlers" class="nav-link">Database Handlers</a></li>
                        <li><a href="#file-handlers" class="nav-link">File Handlers</a></li>
                        <li><a href="#cron-handlers" class="nav-link">Cron Handlers</a></li>
                        <li><a href="#custom-handlers" class="nav-link">Custom Handlers</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        
        <!-- Main Content -->
        <main class="main-content">
            <div class="content-header">
                <button class="mobile-menu-toggle" id="mobileMenuToggle">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="search-container">
                    <input type="text" id="searchInput" placeholder="Search documentation..." class="search-input">
                    <i class="fas fa-search search-icon"></i>
                </div>
            </div>
            
            <div class="content-body">
                <!-- Regex Handlers Section -->
                <section id="regex-handlers" class="content-section active">
                    <div class="section-header">
                        <h1>Regex Handlers</h1>
                        <p>Match clipboard content using powerful regular expressions</p>
                    </div>
                    
                    <div class="handler-overview">
                        <h2>What are Regex Handlers?</h2>
                        <p>Regex handlers use regular expressions to match patterns in clipboard content. They're perfect for detecting URLs, email addresses, phone numbers, or any structured text.</p>
                        
                        <div class="feature-grid">
                            <div class="feature-card">
                                <div class="feature-icon"><i class="fas fa-search"></i></div>
                                <h3>Pattern Matching</h3>
                                <p>Use powerful regex patterns to match specific content types</p>
                            </div>
                            
                            <div class="feature-card">
                                <div class="feature-icon"><i class="fas fa-capture"></i></div>
                                <h3>Capture Groups</h3>
                                <p>Extract specific parts of matched content using capture groups</p>
                            </div>
                            
                            <div class="feature-card">
                                <div class="feature-icon"><i class="fas fa-bolt"></i></div>
                                <h3>Fast Processing</h3>
                                <p>Efficient pattern matching with minimal performance impact</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="configuration-guide">
                        <h2>Configuration</h2>
                        <div class="properties-table">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Property</th>
                                        <th>Type</th>
                                        <th>Required</th>
                                        <th>Description</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><code>type</code></td>
                                        <td>string</td>
                                        <td>✅</td>
                                        <td>Must be "regex"</td>
                                    </tr>
                                    <tr>
                                        <td><code>regex</code></td>
                                        <td>string</td>
                                        <td>✅</td>
                                        <td>The regular expression pattern</td>
                                    </tr>
                                    <tr>
                                        <td><code>flags</code></td>
                                        <td>string</td>
                                        <td>❌</td>
                                        <td>Regex flags (i, g, m, etc.)</td>
                                    </tr>
                                    <tr>
                                        <td><code>case_sensitive</code></td>
                                        <td>boolean</td>
                                        <td>❌</td>
                                        <td>Whether matching is case sensitive (default: false)</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="examples-section">
                        <h2>Examples</h2>
                        
                        <div class="example-card">
                            <h3>URL Detection</h3>
                            <p>Detect and process URLs copied to clipboard</p>
                            <div class="code-block">
                                <pre><code class="language-json">{
  "name": "URL Handler",
  "description": "Detects URLs and shows them in a window",
  "type": "regex",
  "regex": "https?://[\\w\\.-]+(?:/[\\w\\.-]*)*",
  "actions": [
    {
      "name": "show_window",
      "key": "_matched_content",
      "screen_id": "url_preview",
      "title": "URL Preview"
    },
    {
      "name": "show_notification",
      "message": "URL detected: {_matched_content}"
    }
  ]
}</code></pre>
                            </div>
                        </div>
                        
                        <div class="example-card">
                            <h3>Email Address Extraction</h3>
                            <p>Extract email addresses with capture groups</p>
                            <div class="code-block">
                                <pre><code class="language-json">{
  "name": "Email Extractor",
  "description": "Extracts email addresses from text",
  "type": "regex",
  "regex": "([\\w\\.-]+)@([\\w\\.-]+\\.[a-zA-Z]{2,})",
  "actions": [
    {
      "name": "show_window",
      "key": "_formatted_output",
      "screen_id": "markdown",
      "title": "Email Found"
    }
  ],
  "context_processors": [
    {
      "key": "_formatted_output",
      "value": "**Email Found:**\\n\\nUser: {$1}\\nDomain: {$2}\\nFull Email: {_matched_content}"
    }
  ]
}</code></pre>
                            </div>
                        </div>
                        
                        <div class="example-card">
                            <h3>Phone Number Formatter</h3>
                            <p>Format phone numbers automatically</p>
                            <div class="code-block">
                                <pre><code class="language-json">{
  "name": "Phone Formatter",
  "description": "Formats phone numbers",
  "type": "regex",
  "regex": "\\+?(\\d{1,3})?[\\s.-]?\\(?([0-9]{3})\\)?[\\s.-]?([0-9]{3})[\\s.-]?([0-9]{4})",
  "actions": [
    {
      "name": "copy_to_clipboard",
      "key": "_formatted_phone"
    },
    {
      "name": "show_notification",
      "message": "Phone formatted: {_formatted_phone}"
    }
  ],
  "context_processors": [
    {
      "key": "_formatted_phone",
      "value": "+{$1} ({$2}) {$3}-{$4}"
    }
  ]
}</code></pre>
                            </div>
                        </div>
                    </div>
                    
                    <div class="tips-section">
                        <h2>Tips & Best Practices</h2>
                        <div class="tip-grid">
                            <div class="tip-card">
                                <h3><i class="fas fa-lightbulb"></i> Use Capture Groups</h3>
                                <p>Use parentheses to capture parts of the match: <code>(\\d+)-(\\d+)-(\\d+)</code></p>
                            </div>
                            
                            <div class="tip-card">
                                <h3><i class="fas fa-shield-alt"></i> Escape Special Characters</h3>
                                <p>Remember to escape special regex characters: <code>\\.</code> for literal dots</p>
                            </div>
                            
                            <div class="tip-card">
                                <h3><i class="fas fa-performance"></i> Optimize Performance</h3>
                                <p>Use specific patterns instead of overly broad ones like <code>.*</code></p>
                            </div>
                            
                            <div class="tip-card">
                                <h3><i class="fas fa-test-tube"></i> Test Your Patterns</h3>
                                <p>Use online regex testers to validate your patterns before deployment</p>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- API Handlers Section -->
                <section id="api-handlers" class="content-section">
                    <div class="section-header">
                        <h1>API Handlers</h1>
                        <p>Send clipboard content to external APIs for processing</p>
                    </div>
                    
                    <div class="handler-overview">
                        <h2>What are API Handlers?</h2>
                        <p>API handlers send clipboard content to external web services and process the responses. Perfect for translation, text analysis, or data enrichment.</p>
                        
                        <div class="api-flow">
                            <div class="flow-diagram">
                                <div class="flow-step">
                                    <div class="flow-icon"><i class="fas fa-clipboard"></i></div>
                                    <h3>Clipboard Content</h3>
                                    <p>Content is captured</p>
                                </div>
                                <div class="flow-arrow">→</div>
                                <div class="flow-step">
                                    <div class="flow-icon"><i class="fas fa-paper-plane"></i></div>
                                    <h3>API Request</h3>
                                    <p>Sent to external service</p>
                                </div>
                                <div class="flow-arrow">→</div>
                                <div class="flow-step">
                                    <div class="flow-icon"><i class="fas fa-cogs"></i></div>
                                    <h3>Processing</h3>
                                    <p>API processes the data</p>
                                </div>
                                <div class="flow-arrow">→</div>
                                <div class="flow-step">
                                    <div class="flow-icon"><i class="fas fa-download"></i></div>
                                    <h3>Response</h3>
                                    <p>Results returned</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="configuration-guide">
                        <h2>Configuration</h2>
                        <div class="properties-table">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Property</th>
                                        <th>Type</th>
                                        <th>Required</th>
                                        <th>Description</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><code>type</code></td>
                                        <td>string</td>
                                        <td>✅</td>
                                        <td>Must be "api"</td>
                                    </tr>
                                    <tr>
                                        <td><code>url</code></td>
                                        <td>string</td>
                                        <td>✅</td>
                                        <td>API endpoint URL</td>
                                    </tr>
                                    <tr>
                                        <td><code>method</code></td>
                                        <td>string</td>
                                        <td>❌</td>
                                        <td>HTTP method (GET, POST, PUT, etc.)</td>
                                    </tr>
                                    <tr>
                                        <td><code>headers</code></td>
                                        <td>object</td>
                                        <td>❌</td>
                                        <td>HTTP headers to send</td>
                                    </tr>
                                    <tr>
                                        <td><code>body_template</code></td>
                                        <td>string</td>
                                        <td>❌</td>
                                        <td>Request body template</td>
                                    </tr>
                                    <tr>
                                        <td><code>timeout</code></td>
                                        <td>number</td>
                                        <td>❌</td>
                                        <td>Request timeout in seconds</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="examples-section">
                        <h2>Examples</h2>
                        
                        <div class="example-card">
                            <h3>Translation Service</h3>
                            <p>Translate text using an external API</p>
                            <div class="code-block">
                                <pre><code class="language-json">{
  "name": "Text Translator",
  "description": "Translates text to English",
  "type": "api",
  "url": "https://api.translate.service.com/v1/translate",
  "method": "POST",
  "headers": {
    "Authorization": "Bearer YOUR_API_KEY",
    "Content-Type": "application/json"
  },
  "body_template": "{\"text\": \"{clipboard_content}\", \"target_lang\": \"en\"}",
  "timeout": 10,
  "actions": [
    {
      "name": "show_window",
      "key": "_api_response.translated_text",
      "screen_id": "markdown",
      "title": "Translation Result"
    }
  ]
}</code></pre>
                            </div>
                        </div>
                        
                        <div class="example-card">
                            <h3>URL Shortener</h3>
                            <p>Shorten URLs using a web service</p>
                            <div class="code-block">
                                <pre><code class="language-json">{
  "name": "URL Shortener",
  "description": "Shortens long URLs",
  "type": "api",
  "url": "https://api.short.ly/v1/shorten",
  "method": "POST",
  "headers": {
    "Content-Type": "application/json"
  },
  "body_template": "{\"url\": \"{clipboard_content}\"}",
  "actions": [
    {
      "name": "copy_to_clipboard",
      "key": "_api_response.short_url"
    },
    {
      "name": "show_notification",
      "message": "URL shortened: {_api_response.short_url}"
    }
  ]
}</code></pre>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- Database Handlers Section -->
                <section id="database-handlers" class="content-section">
                    <div class="section-header">
                        <h1>Database Handlers</h1>
                        <p>Query and store data in databases based on clipboard content</p>
                    </div>
                    
                    <div class="handler-overview">
                        <h2>What are Database Handlers?</h2>
                        <p>Database handlers can query databases, insert records, or perform lookups based on clipboard content. Supports SQL Server, MySQL, PostgreSQL, and SQLite.</p>
                        
                        <div class="feature-grid">
                            <div class="feature-card">
                                <div class="feature-icon"><i class="fas fa-database"></i></div>
                                <h3>Multiple Databases</h3>
                                <p>Support for SQL Server, MySQL, PostgreSQL, SQLite</p>
                            </div>
                            
                            <div class="feature-card">
                                <div class="feature-icon"><i class="fas fa-search"></i></div>
                                <h3>Flexible Queries</h3>
                                <p>Execute SELECT, INSERT, UPDATE, DELETE operations</p>
                            </div>
                            
                            <div class="feature-card">
                                <div class="feature-icon"><i class="fas fa-shield-alt"></i></div>
                                <h3>Safe Parameters</h3>
                                <p>Parameterized queries prevent SQL injection</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="configuration-guide">
                        <h2>Configuration</h2>
                        <div class="properties-table">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Property</th>
                                        <th>Type</th>
                                        <th>Required</th>
                                        <th>Description</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><code>type</code></td>
                                        <td>string</td>
                                        <td>✅</td>
                                        <td>Must be "database"</td>
                                    </tr>
                                    <tr>
                                        <td><code>connection_string</code></td>
                                        <td>string</td>
                                        <td>✅</td>
                                        <td>Database connection string</td>
                                    </tr>
                                    <tr>
                                        <td><code>query</code></td>
                                        <td>string</td>
                                        <td>✅</td>
                                        <td>SQL query to execute</td>
                                    </tr>
                                    <tr>
                                        <td><code>parameters</code></td>
                                        <td>object</td>
                                        <td>❌</td>
                                        <td>Query parameters</td>
                                    </tr>
                                    <tr>
                                        <td><code>timeout</code></td>
                                        <td>number</td>
                                        <td>❌</td>
                                        <td>Query timeout in seconds</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="examples-section">
                        <h2>Examples</h2>
                        
                        <div class="example-card">
                            <h3>Customer Lookup</h3>
                            <p>Look up customer information by ID</p>
                            <div class="code-block">
                                <pre><code class="language-json">{
  "name": "Customer Lookup",
  "description": "Looks up customer by ID",
  "type": "database",
  "connection_string": "Server=localhost;Database=CRM;Integrated Security=true;",
  "query": "SELECT CustomerName, Email, Phone FROM Customers WHERE CustomerID = @id",
  "parameters": {
    "@id": "{clipboard_content}"
  },
  "actions": [
    {
      "name": "show_window",
      "key": "_formatted_result",
      "screen_id": "markdown",
      "title": "Customer Information"
    }
  ],
  "context_processors": [
    {
      "key": "_formatted_result",
      "value": "# Customer Information\\n\\n**Name:** {_db_result.CustomerName}\\n**Email:** {_db_result.Email}\\n**Phone:** {_db_result.Phone}"
    }
  ]
}</code></pre>
                            </div>
                        </div>
                        
                        <div class="example-card">
                            <h3>Activity Logger</h3>
                            <p>Log clipboard activity to database</p>
                            <div class="code-block">
                                <pre><code class="language-json">{
  "name": "Activity Logger",
  "description": "Logs clipboard content to database",
  "type": "database",
  "connection_string": "Data Source=activity.db",
  "query": "INSERT INTO ClipboardLog (Timestamp, Content, ContentType) VALUES (@timestamp, @content, @type)",
  "parameters": {
    "@timestamp": "{_current_timestamp}",
    "@content": "{clipboard_content}",
    "@type": "{_content_type}"
  },
  "actions": [
    {
      "name": "show_notification",
      "message": "Activity logged successfully"
    }
  ]
}</code></pre>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="assets/js/main.js"></script>
</body>
</html>

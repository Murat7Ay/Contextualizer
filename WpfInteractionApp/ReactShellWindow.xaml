<Window x:Class="WpfInteractionApp.ReactShellWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:wv2="clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf"
        Title="Contextualizer"
        Height="800"
        Width="1200"
        WindowStartupLocation="CenterScreen"
        Style="{DynamicResource Carbon.Window}">
    <Grid Background="{DynamicResource Carbon.Brush.Background.Primary}">
        <wv2:WebView2 x:Name="WebView" />

        <!-- Inline error panel (avoid MessageBox / extra WPF windows) -->
        <Border x:Name="ErrorOverlay"
                Background="{DynamicResource Carbon.Brush.Background.Primary}"
                Visibility="Collapsed">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel Margin="24" MaxWidth="900">
                    <TextBlock x:Name="ErrorTitleText"
                               Text="Startup error"
                               FontSize="20"
                               FontWeight="SemiBold"
                               Foreground="{DynamicResource Carbon.Brush.Text.Primary}"
                               Margin="0,0,0,8"/>
                    <TextBlock x:Name="ErrorMessageText"
                               TextWrapping="Wrap"
                               Foreground="{DynamicResource Carbon.Brush.Text.Secondary}"
                               Margin="0,0,0,12"/>
                    <TextBlock Text="Details"
                               FontSize="12"
                               FontWeight="SemiBold"
                               Foreground="{DynamicResource Carbon.Brush.Text.Primary}"
                               Margin="0,0,0,6"/>
                    <TextBox x:Name="ErrorDetailsText"
                             IsReadOnly="True"
                             TextWrapping="Wrap"
                             VerticalScrollBarVisibility="Auto"
                             HorizontalScrollBarVisibility="Auto"
                             MinHeight="220"
                             FontFamily="Consolas"
                             FontSize="12"
                             Background="{DynamicResource Carbon.Brush.Background.Secondary}"
                             Foreground="{DynamicResource Carbon.Brush.Text.Primary}"
                             BorderBrush="{DynamicResource Carbon.Brush.Background.Tertiary}"
                             BorderThickness="1"
                             Padding="12" />
                </StackPanel>
            </ScrollViewer>
        </Border>
    </Grid>
</Window>


